# Api_yamdb


## Описание
Проект YaMDb собирает отзывы (Review) пользователей на произведения (Titles). Произведения делятся на категории: «Книги», «Фильмы», «Музыка». Список категорий (Category) может быть расширен администратором (например, можно добавить категорию «Изобразительное искусство» или «Ювелирка»).

Сами произведения в YaMDb не хранятся, здесь нельзя посмотреть фильм или послушать музыку.

В каждой категории есть произведения: книги, фильмы или музыка. Например, в категории «Книги» могут быть произведения «Винни-Пух и все-все-все» и «Марсианские хроники», а в категории «Музыка» — песня «Давеча» группы «Насекомые» и вторая сюита Баха.

Произведению может быть присвоен жанр (Genre) из списка предустановленных (например, «Сказка», «Рок» или «Артхаус»). Новые жанры может создавать только администратор.

Благодарные или возмущённые пользователи оставляют к произведениям текстовые отзывы (Review) и ставят произведению оценку в диапазоне от одного до десяти (целое число); из пользовательских оценок формируется усреднённая оценка произведения — рейтинг (целое число). На одно произведение пользователь может оставить только один отзыв.


## Установка

1. Клонировать репозиторий:

   ```python
   git clone https://github.com/TrofimPizik/api_yamdb.git
   ```

2. Перейти в папку с проектом:

   ```python
   cd api_yamdb/
   ```

3. Установить виртуальное окружение для проекта:

   ```python
   python -m venv venv
   ```

4. Активировать виртуальное окружение для проекта:

   ```python
   # для OS Lunix и MacOS
   source venv/bin/activate

   # для OS Windows
   source venv/Scripts/activate
   ```

5. Установить зависимости:

   ```python
   python3 -m pip install --upgrade pip
   pip install -r requirements.txt
   ```

6. Выполнить миграции на уровне проекта:

   ```python
   cd yatube
   python3 manage.py makemigrations
   python3 manage.py migrate
   ```

7. Запустить проект:

   ```
   python manage.py runserver
   ```

##### Работа с API для всех пользователей. Для неавторизованных пользователей работа с API доступна только в режиме чтения

## Права доступа: 
#### Доступно без токена:
```
GET /api/v1/categories/
```
- Получение списка всех категорий
```
GET /api/v1/genres/
``` 
- Получение списка всех жанров
```
GET /api/v1/titles/
```
 - Получение списка всех произведений
```
GET /api/v1/titles/{title_id}/reviews/
``` 
- Получение списка всех отзывов
```
GET /api/v1/titles/{title_id}/reviews/{review_id}/comments/
``` 
- Получение списка всех комментариев к отзыву
#### Пользовательские роли
Anonymous — может просматривать описания произведений, читать отзывы и комментарии.

Аутентифицированный пользователь (user) — может, как и Аноним, читать всё, дополнительно он может публиковать отзывы и ставить оценку произведениям (фильмам/книгам/песенкам), может комментировать чужие отзывы; может редактировать и удалять свои отзывы и комментарии. Роль присваивается по умолчанию каждому новому пользователю.

Модератор (moderator) — облаадет правами аутентифицированного пользователя + право удалять любые отзывы и комментарии.
Администратор (admin) — полные права на управление всем контентом проекта. Может создавать и удалять произведения, категории и жанры, а так же назначать роли пользователям.


## Регистрация нового пользователя:

### Получение кода подтверждения на переданный email. Поля email и username должны быть уникальными.

POST /api/v1/auth/signup/

```
  "email": "string",
  "username": "string"
```
### Получение JWT-токена для аутентификации

POST /api/v1/auth/token/

```
  "username": "string",
  "confirmation_code": "string"
```


## Работа с API для авторизованных пользователей
#### Получение данных своей учетной записи:

Права доступа: user
```
GET api/v1/users/me/
```

#### Добавление категорий:

Права доступа: admin

POST /api/v1/categories/

```
  "name": "string",
  "slug": "string"
```
#### Добавление жанров:

Права доступа: admin

POST /api/v1/genres/

```
  "name": "string",
  "slug": "string"
```
#### Добавление произведений и обновление информации о произведении:

Права доступа: admin

POST /api/v1/titles/

PATCH /api/v1/titles/{titles_id}/


```
  "name": "string",
  "year": 0,
  "description": "string",
  "genre": [
    "string"
  ],
  "category": "string"
```

#### Удаление произведений


DELETE /api/v1/titles/{titles_id}/

## Полный список эндпойнтов, методы и параметры запросов описаны в докуметации:

```
/redoc/
```

## Авторы/Разработчики:

#### Трофим Пизик
#### Владислав Михалко
#### Воробьев Игорь
